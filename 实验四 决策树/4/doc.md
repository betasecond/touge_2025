
夏炘航
gold11060
4 决策树
实验总用时：00:00:00
nav
第4关：信息增益率
200
学习内容
参考答案
记录
评论
任务描述
相关知识
信息增益率
编程要求
测试说明
任务描述
本关任务：根据本关所学知识，完成calcInfoGainRatio函数。

相关知识
为了完成本关任务，你需要掌握：信息增益率

信息增益率
由于在使用信息增益这一指标进行划分时，更喜欢可取值数量较多的特征。为了减少这种偏好可能带来的不利影响，Ross Quinlan使用了信息增益率这一指标来选择最优划分属性。

信息增益率的数学定义为如下，其中D表示数据集，a表示数据集中的某一列，Gain(D,a)表示D中a的信息增益，V表示a这一列中取值的集合，v表示V中的某种取值，∣D∣表示D中样本的数量，∣D 
v
 ∣表示D中a这一列中值等于v的数量。

Gain_ratio(D,a)= 
− 
v=1
∑
V
​
  
∣D∣
∣D 
v
 ∣
​
 log 
2
​
  
∣D∣
∣D 
v
 ∣
​
 
Gain(D,a)
​
 

从公式可以看出，信息增益率很好算，只是用信息增益除以另一个分母，该分母通常称为固有值。举个例子，还是使用第二关中提到过的数据集，第一列是编号，第二列是性别，第三列是活跃度，第四列是客户是否流失的标签（0表示未流失，1表示流失）。

编号	性别	活跃度	是否流失
1	男	高	0
2	女	中	0
3	男	低	1
4	女	高	0
5	男	高	0
6	男	中	0
7	男	中	1
8	女	中	0
9	女	低	1
10	女	中	0
11	女	高	0
12	男	低	1
13	女	低	1
14	男	高	0
15	男	高	0
根据第二关已经知道性别的信息增益为0.0064，设a为性别，则有Gain(D,a)=0.0064。由根据数据可知，V=2，假设当v=1时表示性别为男，v=2时表示性别为女，则有∣D∣=15，∣D 
1
 ∣=8，∣D 
2
 ∣=7。因此根据信息增益率的计算公式可知Gain 
r
​
 atio(D,a)=0.0642。同理可以算出活跃度的信息增益率为0.4328。

编程要求
根据提示，在右侧编辑器补充代码，完成calcInfoGainRatio函数实现计算信息增益。

calcInfoGainRatio函数中的参数:

feature：测试用例中字典里的feature，类型为ndarray；

label：测试用例中字典里的label，类型为ndarray；

index：测试用例中字典里的index，即feature部分特征列的索引。该索引指的是feature中第几个特征，如index:0表示使用第一个特征来计算信息增益率。

测试说明
平台会对你编写的代码进行测试，期望您的代码根据输入来输出正确的信息增益，以下为其中一个测试用例：

测试输入：
{'feature':[[0, 1], [1, 0], [1, 2], [0, 0], [1, 1]], 'label':[0, 1, 0, 0, 1], 'index': 0}

预期输出：
0.432538

提示：
计算log可以使用NumPy中的log2函数

开始你的任务吧，祝你成功！

说点什么
4
resize-icon
12345678910111213141516171819202122
import numpy as np

def calcInfoGain(feature, label, index):
    '''
    计算信息增益
    :param feature:测试用例中字典里的feature，类型为ndarray
    :param label:测试用例中字典里的label，类型为ndarray
    :param index:测试用例中字典里的index，即feature部分特征列的索引。该索引指的是feature中第几个特征，如index:0表示使用第一个特征来计算信息增益。
    :return:信息增益，类型float

测试结果
测试集1
测试集2
测试集3
本关最大执行时间：120秒
上一关
下一关
run
评测
